(this["webpackJsonp@elgatoylacaja/auth"]=this["webpackJsonp@elgatoylacaja/auth"]||[]).push([[2],{223:function(e,a,r){"use strict";r.r(a);var t=r(6),s=r.n(t),n=r(12),o=r(8),c=r(0),i=r.n(c),l=r(206),u=r(139),d=r(55),p=r(87),m=r(50),w=r(112),h=r(49),f=r(92),v=r(88),b=w.b().shape({password:w.c().required("Este campo es requerido"),confirmPassword:w.c().required("Este campo es requerido").test("passwords-match","Las contrase\xf1as no coinciden",(function(e){return this.parent.password===e}))});a.default=Object(d.g)((function(e){var a=Object(p.o)(),r=Object(h.c)(),t=r.startLoading,c=r.stopLoading,d=i.a.useState(""),w=Object(o.a)(d,2),g=w[0],E=w[1],y=i.a.useContext(v.a).dispatch;i.a.useEffect((function(){var a=e.location.search,r=new URLSearchParams(a).get("token");""===r||null===r?e.history.push("/login"):E(r)}),[E,e.history,e.location.search]);var C=function(){var e=Object(n.a)(s.a.mark((function e(a){var r,n,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.password,t(),e.prev=2,e.next=5,f.b.sendNewPassword({password:r,token:g});case 5:n=e.sent,o=n.data.accessToken,y({type:"LOGIN",accessToken:o}),c(),e.next=17;break;case 11:e.prev=11,e.t0=e.catch(2),e.t0.status,e.t0.error,c();case 17:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(a){return e.apply(this,arguments)}}();return i.a.createElement("div",{className:a.authCardContainer},i.a.createElement(l.a,{container:!0,style:{marginTop:10}},i.a.createElement(u.a,{variant:"h1",className:a.titleDisplay},"Crear nueva contrase\xf1a")),i.a.createElement(l.a,{container:!0,style:{marginTop:10}}),i.a.createElement(m.b,{initialValues:{password:"",confirmPassword:""},onSubmit:C,validationSchema:b},(function(e){var a=e.values,r=e.handleChange,t=e.handleBlur,s=e.handleSubmit,n=e.errors,o=e.touched;return i.a.createElement("form",{onSubmit:s},i.a.createElement(p.n,{id:"password",label:"Nueva contrase\xf1a",type:"password",value:a.password,onChange:r,onBlur:t,autoComplete:"new-password",error:void 0!==n.password&&o.password,errorMessage:n.password,handleError:!0}),i.a.createElement(p.n,{id:"confirmPassword",label:"Repetir nueva contrase\xf1a",type:"password",value:a.confirmPassword,onChange:r,onBlur:t,autoComplete:"new-password",error:void 0!==n.confirmPassword&&o.confirmPassword,errorMessage:n.confirmPassword,handleError:!0}),i.a.createElement(p.a,{color:"primary",type:"submit",label:"Crear contrase\xf1a"}))})))}))}}]);
//# sourceMappingURL=NewPassword.fce720ac.chunk.js.map